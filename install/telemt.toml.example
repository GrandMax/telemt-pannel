# Copy to telemt.toml and substitute your secret (openssl rand -hex 16).
# Domain in censorship.tls_domain must match HostSNI rule in traefik/dynamic/tcp.yml.
# TELEMT_PORT_PLACEHOLDER is replaced by install.sh with TELEMT_INTERNAL_PORT (default 1234).

show_link = ["docker"]

[general]
prefer_ipv6 = false
fast_mode = true
use_middle_proxy = false

[general.modes]
classic = false
secure = false
tls = true

[server]
port = TELEMT_PORT_PLACEHOLDER
listen_addr_ipv4 = "0.0.0.0"
listen_addr_ipv6 = "::"
proxy_protocol = true   # required when behind Traefik for real client IP / Unique IPs

[censorship]
tls_domain = "pikabu.ru"
mask = true
mask_port = 443
fake_cert_len = 2048

[access]
replay_check_len = 65536
ignore_time_skew = false

[access.users]
docker = "ПОДСТАВЬТЕ_32_СИМВОЛА_HEX"

[[upstreams]]
type = "direct"
enabled = true
weight = 10
